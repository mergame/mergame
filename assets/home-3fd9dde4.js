import{f as X,s as Y,d as G,g as J,h as N,i as Z,j as ee,k as te,l as K,B as q,m as Q,n as oe,w as O,p as R,C as se,o as _,c as x,b as e,q as S,t as M,u as o,v as U,x as v,F as W,y as ne,z as ie,A as re,L as ae,e as j,D as le,E,P as ce,G as d,a as $,H as L,I as de,J as H,K as ue,M as P,N as _e,O as he,Q as fe,r as me}from"./app-849fd150.js";var V={},pe={get exports(){return V},set exports(A){V=A}};(function(A,C){(function(r,a){A.exports=a()})(X,function(){return function(r,a,h){r=r||{};var f=a.prototype,B={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function w(t,p,g,F){return f.fromToBase(t,p,g,F)}h.en.relativeTime=B,f.fromToBase=function(t,p,g,F,D){for(var T,k,y,i=g.$locale().relativeTime||B,s=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],n=s.length,u=0;u<n;u+=1){var l=s[u];l.d&&(T=F?h(t).diff(g,l.d,!0):g.diff(t,l.d,!0));var c=(r.rounding||Math.round)(Math.abs(T));if(y=T>0,c<=l.r||!l.r){c<=1&&u>0&&(l=s[u-1]);var m=i[l.l];D&&(c=D(""+c)),k=typeof m=="string"?m.replace("%d",c):m(c,p,l.l,y);break}}if(p)return k;var I=y?i.future:i.past;return typeof I=="function"?I(k):I.replace("%s",k)},f.to=function(t,p){return w(t,p,this,!0)},f.from=function(t,p){return w(t,p,this)};var b=function(t){return t.$u?h.utc():h()};f.toNow=function(t){return this.to(b(this),t)},f.fromNow=function(t){return this.from(b(this),t)}}})})(pe);const ge=V,ve="https://api.covalenthq.com/v1",xe={get:(A,C,r)=>Y.get(`${ve}/${A}/events/topics/${C}/`,r)},we={class:"relative"},be={class:"head"},ke=e("h3",{class:"text-2xl text-color"}," Mint Rewards ",-1),ye={class:"text-info text-14 mt-5 px-4"},$e={class:"mt-5 absolute lg:relative top-26 lg:top-0 w-full bottom-0 h-full lg:h-96 overflow-y-scroll"},Ae={class:"text-left"},Ce={class:"text-blue-600 cursor-pointer"},Fe=["href"],Te={class:"text-16 text-color"},Be={class:"custom-title"},De={class:"text-16 text-color"},Ne={key:1,"mt-16":"","text-info":"","text-14":""},Me=G({__name:"refundList",setup(A){var y,i;const C="0x1F222BA0C54A1BAa502787Fe39A196135A7AF4d9",r=J();N.extend(ge),N.extend(Z);const{chain:a}=ee(),{address:h}=te(),{isConnected:f}=K(),B=ie,w=a!=null&&a.value?(i=(y=a==null?void 0:a.value)==null?void 0:y.blockExplorers)==null?void 0:i.default.url:"",b=q.from(B[0].chainId).toNumber(),t=Q({loading:!0,finished:!1,list:[]});function p(s,n=14){return!s||s.length<15?"":`${s.substr(0,n)}...`}const{data:g}=oe({chainId:r.chainId});O(g,s=>{s&&setTimeout(()=>{F(s)},1e3)}),O(h,()=>{g&&(t.list.length=0,setTimeout(()=>{F(g.value)},1e3))});function F(s){var u;if(t.list.length=0,!f||((u=a==null?void 0:a.value)==null?void 0:u.id)!==b)return;t.finished=!1;const n=window.$game.filters.Refunded(h.value);xe.get(r.chainId,n.topics[0],{key:"ckey_593c43462d3c434d83705f10058","starting-block":R.subtract(s,2e4),"ending-block":s,"sender-address":C,"secondary-topics":n.topics[1],"quote-currency":"USD",format:"JSON"}).then(l=>{t.loading=!1,t.finished=!0,l.error||(t.list=l.data.items)}).catch(()=>{t.loading=!1,t.finished=!0})}function D(s){const n=R.find(s,["name","collateral"]);return n?n.value:""}function T(s){const n=R.find(s,["name","tokenAmount"]);return n?re(q.from(n.value).toString(),18):""}function k(s){const n=N(s).utc().unix();return N().subtract(N.utc().unix()-n,"second").fromNow()}return(s,n)=>{const u=se,l=ae;return _(),x("div",we,[e("div",be,[ke,e("p",ye,[S(" There is a "),e("strong",null,M(o(r).refundProbability)+"%",1),S(" chance of getting a full refund when you mint, good luck! ")])]),e("div",$e,[o(t).list.length||o(t).loading?(_(),U(l,{key:0,loading:o(t).loading,"onUpdate:loading":n[0]||(n[0]=c=>o(t).loading=c),finished:o(t).finished},{default:v(()=>[(_(!0),x(W,null,ne(o(t).list.slice().reverse(),c=>(_(),U(u,{key:c},{title:v(()=>[e("div",Ae,[e("div",Ce,[e("a",{href:`${o(w)}/tx/${c.tx_hash}`,target:"_blank"},M(p(c.tx_hash)),9,Fe)]),e("div",Te," Public mint x"+M(D(c.decoded.params)),1)])]),value:v(()=>[e("div",Be,M(k(c.block_signed_at)),1),e("div",De,M(T(c.decoded.params)),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"])):(_(),x("div",Ne," No Data "))])])}}}),Se=j(Me,[["__file","/Users/ks/code/wb/merger/src/components/refundList.vue"]]),z="/assets/logo-ddcc7bdd.svg",Ue="/assets/logo-dark-7b3545d8.svg",Ee="/assets/airdrop-3c8a7ecf.png",Pe={hidden:"","lg:block":""},Ie={class:"header","flex-between":""},Re={text:"center",flex:"",class:"relative"},Le=["src"],He={key:0,class:"rounded-md text-white text-sm bg-upgrade px-1 absolute -right-24"},Ve={class:"flex text-16 opacity-90 items-center"},je={"mx-5":""},qe=e("li",{"mx-5":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),Oe={"mx-5":""},ze=["href"],Ge=e("li",{"ml-5":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),Je={key:0,"ml-10":""},Ke={key:1},Qe=e("div",{i:"carbon-logout"},null,-1),We=[Qe],Xe=e("li",null,[d('              <button class="icon-btn !outline-none ml-10" @click="userStore.changeDark()"> '),d('                <div i="carbon-sun dark:carbon-moon" /> '),d("              </button> ")],-1),Ye={"lg:hidden":""},Ze={"pt-5":"","px-5":"","flex-between":""},et={"pl-1":"",class:"logo flex relative"},tt=["src"],ot={class:"flex items-center"},st={"mt-10":"","text-16":"","opacity-90":"","pl-3":""},nt={"mx-5":"","mb-8":""},it=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),rt={"mx-5":"","mb-8":""},at=["href"],lt=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),ct={key:0,"mx-5":"","mb-8":""},dt={class:"text-center"},ut={class:"text-center py-10"},_t=["src"],ht=e("p",{"my-5":"","px-5":"","text-justify":"","text-14":"","text-color":"","opacity-50":"","leading-6":""}," Players who participate in the public test have a chance to get airdrop rewards - Genesis NFT2022, the rules of rewards will be announced after the test. ",-1),ft={"text-center":"","mt-10":""},mt={"px-10":""},pt={key:1},gt=G({__name:"Header",setup(A){const C="https://testnets.opensea.io/collection/mergame-nft",r=J(),{disconnect:a}=le(),{isConnected:h}=K(),f=E(!1),B=E(null),w=E(!1),b=E(!1),t=Q({show:!1,loading:!1}),p=!0;function g(){a(),f.value=!1,r.logout(),location.reload()}function F(){h.value&&(b.value=!b.value)}function D(){h.value&&(w.value=!w.value)}function T(){const y=de.map(n=>H(n)),s=new ue.MerkleTree(y,H,{sort:!0}).getHexProof(H(r.address));t.loading=!0,window.$game.claimAirdrop(s).then(n=>{window.$provider.waitForTransaction(n.hash).then(u=>{u&&u.status===1?(t.loading=!1,t.show=!1,r.isAirdrop=!0,P({type:"success",title:"Airdrop Success"})):(t.loading=!1,P({type:"error",title:"Airdrop Error"}))}).catch(()=>{t.loading=!1,P({type:"error",title:"Airdrop Error"})})}).catch(()=>{t.loading=!1,P({type:"error",title:"Airdrop Error"})})}function k(){location.reload()}return(y,i)=>{const s=ce,n=Se,u=_e,l=he,c=fe;return _(),x("div",null,[e("div",Pe,[e("div",Ie,[e("div",Re,[e("img",{"cursor-pointer":"",width:"165",src:o(r).isDark?o(Ue):o(z),onClick:k},null,8,Le),o(p)?(_(),x("span",He,"TESTNET")):d("v-if",!0)]),e("div",null,[e("ul",Ve,[d("            <li mx-5> "),d("              Public Sale "),d("            </li> "),e("li",je,[e("div",{class:"cursor-pointer",onClick:i[0]||(i[0]=m=>o(t).show=!0)}," Airdrop ")]),qe,e("li",Oe,[e("a",{href:o(C),target:"_blank"}," Opensea ",8,ze)]),Ge,o(h)?(_(),x("li",Je,[e("div",{class:"reward px-4 py-2 cursor-pointer",onClick:F}," Rewards ")])):d("v-if",!0),o(h)?(_(),x("li",Ke,[e("button",{class:"icon-btn !outline-none ml-10",onClick:g},We)])):d("v-if",!0),Xe])])])]),e("div",Ye,[e("div",Ze,[e("div",et,[e("img",{width:"110",src:o(z),onClick:k},null,8,tt)]),e("div",ot,[o(h)?(_(),x("div",{key:0,class:"reward px-2 py-1 cursor-pointer",onClick:D}," Rewards ")):d("v-if",!0),e("div",{"text-2xl":"","i-carbon-menu":"","ml-3":"",onClick:i[1]||(i[1]=m=>f.value=!0)})])]),$(s,{show:o(f),"onUpdate:show":i[3]||(i[3]=m=>L(f)?f.value=m:null),position:"right",style:{height:"100%",width:"50%"}},{default:v(()=>[e("ul",st,[d("          <li mx-5 mb-8> "),d("            Public Sale "),d("          </li> "),e("li",nt,[e("div",{class:"cursor-pointer",onClick:i[2]||(i[2]=m=>o(t).show=!0)}," Airdrop ")]),it,e("li",rt,[e("a",{href:o(C),target:"_blank"}," Opensea ",8,at)]),lt,o(h)?(_(),x("li",ct,[e("div",{class:"cursor-pointer text-upgrade",onClick:g}," Logout ")])):d("v-if",!0)])]),_:1},8,["show"])]),d("    PC "),$(u,{ref_key:"dialog",ref:B,show:o(b),"onUpdate:show":i[4]||(i[4]=m=>L(b)?b.value=m:null),overlay:!0,"overlay-class":" over-refund","close-on-click-overlay":!0,width:"300",title:"",class:"pt-6 pb-10 px-2 dialog-pc","show-confirm-button":!1},{default:v(()=>[e("div",dt,[$(n)])]),_:1},8,["show"]),d("    mobile "),$(s,{show:o(w),"onUpdate:show":i[5]||(i[5]=m=>L(w)?w.value=m:null),position:"right",style:{height:"100%",width:"70%"}},{default:v(()=>[e("div",ut,[$(n)])]),_:1},8,["show"]),d("   AirDrop "),$(u,{show:o(t).show,"onUpdate:show":i[6]||(i[6]=m=>o(t).show=m),"close-on-click-overlay":!0,width:"420",title:"",class:"p-10","show-confirm-button":!1},{default:v(()=>[e("img",{"mx-auto":"",width:"90",height:"100",src:o(Ee)},null,8,_t),ht,e("div",ft,[$(c,{"is-color":""},{default:v(()=>[e("div",mt,[o(r).isWhite?(_(),x("div",pt,[o(r).isAirdrop?(_(),U(l,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[S(" Address is claimed ")]),_:1})):(_(),U(l,{key:1,block:"",loading:o(t).loading,color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)",onClick:T},{default:v(()=>[S(" Claim ")]),_:1},8,["loading"]))])):(_(),U(l,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[S(" Address has no available claim ")]),_:1}))])]),_:1})])]),_:1},8,["show"])])}}});const vt=j(gt,[["__file","/Users/ks/code/wb/merger/src/components/Header.vue"]]),xt={},wt={class:"px-4 text-center md:w-screen-lg mx-auto"};function bt(A,C){const r=vt,a=me("RouterView");return _(),x(W,null,[$(r),e("main",wt,[$(a)])],64)}const yt=j(xt,[["render",bt],["__file","/Users/ks/code/wb/merger/src/layouts/home.vue"]]);export{yt as default};
