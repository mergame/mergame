import{e as X,s as Q,d as z,f as G,g as N,h as Y,i as Z,j as ee,k as O,B as V,l as J,m as te,w as j,n as L,C as oe,o as _,c as x,b as e,t as M,u,p as S,q as v,F as K,v as se,x as U,y as ne,z as ie,L as re,_ as H,A as ae,D as P,P as le,E as c,a as $,G as ce,H as R,I as de,J as E,K as ue,M as _e,N as he,r as fe}from"./app.11918a4c.js";var W={exports:{}};(function(T,A){(function(i,r){T.exports=r()})(X,function(){return function(i,r,h){i=i||{};var m=r.prototype,B={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function w(t,p,g,C){return m.fromToBase(t,p,g,C)}h.en.relativeTime=B,m.fromToBase=function(t,p,g,C,D){for(var F,k,y,n=g.$locale().relativeTime||B,o=i.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],s=o.length,d=0;d<s;d+=1){var a=o[d];a.d&&(F=C?h(t).diff(g,a.d,!0):g.diff(t,a.d,!0));var l=(i.rounding||Math.round)(Math.abs(F));if(y=F>0,l<=a.r||!a.r){l<=1&&d>0&&(a=o[d-1]);var f=n[a.l];D&&(l=D(""+l)),k=typeof f=="string"?f.replace("%d",l):f(l,p,a.l,y);break}}if(p)return k;var I=y?n.future:n.past;return typeof I=="function"?I(k):I.replace("%s",k)},m.to=function(t,p){return w(t,p,this,!0)},m.from=function(t,p){return w(t,p,this)};var b=function(t){return t.$u?h.utc():h()};m.toNow=function(t){return this.to(b(this),t)},m.fromNow=function(t){return this.from(b(this),t)}}})})(W);const me=W.exports,pe="https://api.covalenthq.com/v1",ge={get:(T,A,i)=>Q.get(`${pe}/${T}/events/topics/${A}/`,i)},ve={class:"relative"},xe={class:"head"},we=e("h3",{class:"text-2xl text-color"}," Mint Rewards ",-1),be={class:"text-info text-14 mt-5 px-4"},ke=U(" There is a "),ye=U(" chance of getting a full refund when you mint, good luck! "),$e={class:"mt-5 absolute lg:relative top-26 lg:top-0 w-full bottom-0 h-full lg:h-96 overflow-y-scroll"},Ae={class:"text-left"},Ce={class:"text-blue-600 cursor-pointer"},Fe=["href"],Te={class:"text-16 text-color"},Be={class:"custom-title"},De={class:"text-16 text-color"},Ne={key:1,"mt-16":"","text-info":"","text-14":""},Me=z({__name:"refundList",setup(T){var y,n;const A="0x1F222BA0C54A1BAa502787Fe39A196135A7AF4d9",i=G();N.extend(me),N.extend(Y);const{chain:r}=Z(),{address:h}=ee(),{isConnected:m}=O(),B=ne,w=r!=null&&r.value?(n=(y=r==null?void 0:r.value)==null?void 0:y.blockExplorers)==null?void 0:n.default.url:"",b=V.from(B[0].chainId).toNumber(),t=J({loading:!0,finished:!1,list:[]});function p(o,s=14){return!o||o.length<15?"":`${o.substr(0,s)}...`}const{data:g}=te({chainId:i.chainId});j(g,o=>{o&&setTimeout(()=>{C(o)},1e3)}),j(h,()=>{g&&(t.list.length=0,setTimeout(()=>{C(g.value)},1e3))});function C(o){var d;if(t.list.length=0,!m||((d=r==null?void 0:r.value)==null?void 0:d.id)!==b)return;t.finished=!1;const s=window.$game.filters.Refunded(h.value);ge.get(i.chainId,s.topics[0],{key:"ckey_593c43462d3c434d83705f10058","starting-block":L.subtract(o,2e4),"ending-block":o,"sender-address":A,"secondary-topics":s.topics[1],"quote-currency":"USD",format:"JSON"}).then(a=>{t.loading=!1,t.finished=!0,a.error||(t.list=a.data.items)}).catch(()=>{t.loading=!1,t.finished=!0})}function D(o){const s=L.find(o,["name","collateral"]);return s?s.value:""}function F(o){const s=L.find(o,["name","tokenAmount"]);return s?ie(V.from(s.value).toString(),18):""}function k(o){const s=N(o).utc().unix();return N().subtract(N.utc().unix()-s,"second").fromNow()}return(o,s)=>{const d=oe,a=re;return _(),x("div",ve,[e("div",xe,[we,e("p",be,[ke,e("strong",null,M(u(i).refundProbability)+"%",1),ye])]),e("div",$e,[t.list.length||t.loading?(_(),S(a,{key:0,loading:t.loading,"onUpdate:loading":s[0]||(s[0]=l=>t.loading=l),finished:t.finished},{default:v(()=>[(_(!0),x(K,null,se(t.list.slice().reverse(),l=>(_(),S(d,{key:l},{title:v(()=>[e("div",Ae,[e("div",Ce,[e("a",{href:`${u(w)}/tx/${l.tx_hash}`,target:"_blank"},M(p(l.tx_hash)),9,Fe)]),e("div",Te," Public mint x"+M(D(l.decoded.params)),1)])]),value:v(()=>[e("div",Be,M(k(l.block_signed_at)),1),e("div",De,M(F(l.decoded.params)),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"])):(_(),x("div",Ne," No Data "))])])}}}),Se=H(Me,[["__file","/Users/ks/code/wb/merger/src/components/refundList.vue"]]),q="/assets/logo.ddcc7bdd.svg",Ue="/assets/logo-dark.7b3545d8.svg",Pe="/assets/airdrop.3c8a7ecf.png",Ee={hidden:"","lg:block":""},Ie={class:"header","flex-between":""},Le={text:"center",flex:"",class:"relative"},Re=["src"],He={key:0,class:"rounded-md text-white text-sm bg-upgrade px-1 absolute -right-24"},Ve={class:"flex text-16 opacity-90 items-center"},je={"mx-5":""},qe=e("li",{"mx-5":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),ze={"mx-5":""},Ge=["href"],Oe=e("li",{"ml-5":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),Je={key:0,"ml-10":""},Ke={key:1},We=e("div",{i:"carbon-logout"},null,-1),Xe=[We],Qe=e("li",null,[c('              <button class="icon-btn !outline-none ml-10" @click="userStore.changeDark()">'),c('                <div i="carbon-sun dark:carbon-moon" />'),c("              </button>")],-1),Ye={"lg:hidden":""},Ze={"pt-5":"","px-5":"","flex-between":""},et={"pl-1":"",class:"logo flex relative"},tt=["src"],ot={class:"flex items-center"},st={"mt-10":"","text-16":"","opacity-90":"","pl-3":""},nt={"mx-5":"","mb-8":""},it=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),rt={"mx-5":"","mb-8":""},at=["href"],lt=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),ct={key:0,"mx-5":"","mb-8":""},dt={class:"text-center"},ut={class:"text-center py-10"},_t=["src"],ht=e("p",{"my-5":"","px-5":"","text-justify":"","text-14":"","text-color":"","opacity-50":"","leading-6":""}," Players who participate in the public test have a chance to get airdrop rewards - Genesis NFT2022, the rules of rewards will be announced after the test. ",-1),ft={"text-center":"","mt-10":""},mt={"px-10":""},pt=U(" Address has no available claim "),gt={key:1},vt=U(" Address is claimed "),xt=U(" Claim "),wt=z({__name:"Header",setup(T){const A="https://testnets.opensea.io/collection/mergame-nft",i=G(),{disconnect:r}=ae(),{isConnected:h}=O(),m=P(!1),B=P(null),w=P(!1),b=P(!1),t=J({show:!1,loading:!1}),p=!0;function g(){r(),m.value=!1,i.logout(),location.reload()}function C(){h.value&&(b.value=!b.value)}function D(){h.value&&(w.value=!w.value)}function F(){const y=ce.map(s=>R(s)),o=new de.MerkleTree(y,R,{sort:!0}).getHexProof(R(i.address));t.loading=!0,window.$game.claimAirdrop(o).then(s=>{window.$provider.waitForTransaction(s.hash).then(d=>{d&&d.status===1?(t.loading=!1,t.show=!1,i.isAirdrop=!0,E({type:"success",title:"Airdrop Success"})):(t.loading=!1,E({type:"error",title:"Airdrop Error"}))}).catch(()=>{t.loading=!1,E({type:"error",title:"Airdrop Error"})})}).catch(()=>{t.loading=!1,E({type:"error",title:"Airdrop Error"})})}function k(){location.reload()}return(y,n)=>{const o=le,s=Se,d=ue,a=_e,l=he;return _(),x("div",null,[e("div",Ee,[e("div",Ie,[e("div",Le,[e("img",{"cursor-pointer":"",width:"165",src:u(i).isDark?u(Ue):u(q),onClick:k},null,8,Re),u(p)?(_(),x("span",He,"TESTNET")):c("v-if",!0)]),e("div",null,[e("ul",Ve,[c("            <li mx-5>"),c("              Public Sale"),c("            </li>"),e("li",je,[e("div",{class:"cursor-pointer",onClick:n[0]||(n[0]=f=>t.show=!0)}," Airdrop ")]),qe,e("li",ze,[e("a",{href:u(A),target:"_blank"}," Opensea ",8,Ge)]),Oe,u(h)?(_(),x("li",Je,[e("div",{class:"reward px-4 py-2 cursor-pointer",onClick:C}," Rewards ")])):c("v-if",!0),u(h)?(_(),x("li",Ke,[e("button",{class:"icon-btn !outline-none ml-10",onClick:g},Xe)])):c("v-if",!0),Qe])])])]),e("div",Ye,[e("div",Ze,[e("div",et,[e("img",{width:"110",src:u(q),onClick:k},null,8,tt)]),e("div",ot,[u(h)?(_(),x("div",{key:0,class:"reward px-2 py-1 cursor-pointer",onClick:D}," Rewards ")):c("v-if",!0),e("div",{"text-2xl":"","i-carbon-menu":"","ml-3":"",onClick:n[1]||(n[1]=f=>m.value=!0)})])]),$(o,{show:m.value,"onUpdate:show":n[3]||(n[3]=f=>m.value=f),position:"right",style:{height:"100%",width:"50%"}},{default:v(()=>[e("ul",st,[c("          <li mx-5 mb-8>"),c("            Public Sale"),c("          </li>"),e("li",nt,[e("div",{class:"cursor-pointer",onClick:n[2]||(n[2]=f=>t.show=!0)}," Airdrop ")]),it,e("li",rt,[e("a",{href:u(A),target:"_blank"}," Opensea ",8,at)]),lt,u(h)?(_(),x("li",ct,[e("div",{class:"cursor-pointer text-upgrade",onClick:g}," Logout ")])):c("v-if",!0)])]),_:1},8,["show"])]),c("    PC "),$(d,{ref_key:"dialog",ref:B,show:b.value,"onUpdate:show":n[4]||(n[4]=f=>b.value=f),overlay:!0,"overlay-class":" over-refund","close-on-click-overlay":!0,width:"300",title:"",class:"pt-6 pb-10 px-2 dialog-pc","show-confirm-button":!1},{default:v(()=>[e("div",dt,[$(s)])]),_:1},8,["show"]),c("    mobile "),$(o,{show:w.value,"onUpdate:show":n[5]||(n[5]=f=>w.value=f),position:"right",style:{height:"100%",width:"70%"}},{default:v(()=>[e("div",ut,[$(s)])]),_:1},8,["show"]),c("   AirDrop "),$(d,{show:t.show,"onUpdate:show":n[6]||(n[6]=f=>t.show=f),"close-on-click-overlay":!0,width:"420",title:"",class:"p-10","show-confirm-button":!1},{default:v(()=>[e("img",{"mx-auto":"",width:"90",height:"100",src:u(Pe)},null,8,_t),ht,e("div",ft,[$(l,{"is-color":""},{default:v(()=>[e("div",mt,[u(i).isWhite?(_(),x("div",gt,[u(i).isAirdrop?(_(),S(a,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[vt]),_:1})):(_(),S(a,{key:1,block:"",loading:t.loading,color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)",onClick:F},{default:v(()=>[xt]),_:1},8,["loading"]))])):(_(),S(a,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[pt]),_:1}))])]),_:1})])]),_:1},8,["show"])])}}});const bt=H(wt,[["__file","/Users/ks/code/wb/merger/src/components/Header.vue"]]),kt={},yt={class:"px-4 text-center md:w-screen-lg mx-auto"};function $t(T,A){const i=bt,r=fe("RouterView");return _(),x(K,null,[$(i),e("main",yt,[$(r)])],64)}const Ct=H(kt,[["render",$t],["__file","/Users/ks/code/wb/merger/src/layouts/home.vue"]]);export{Ct as default};
