import{e as Q,s as Y,d as z,f as G,g as S,h as Z,i as tt,j as et,k as J,B as V,l as K,m as ot,w as q,n as R,C as st,o as u,c as g,b as t,t as U,u as d,p as E,q as p,F as W,v as nt,x as I,y as it,z as rt,L as at,_ as j,A as lt,D as L,P as ct,E as l,a as k,G as dt,H,I as ut,J as P,K as _t,M as ht,N as ft,O as mt,r as pt}from"./app.712617c3.js";var X={exports:{}};(function(B,y){(function(n,a){B.exports=a()})(Q,function(){return function(n,a,_){n=n||{};var h=a.prototype,D={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function x(e,f,m,A){return h.fromToBase(e,f,m,A)}_.en.relativeTime=D,h.fromToBase=function(e,f,m,A,N){for(var F,b,$,C=m.$locale().relativeTime||D,s=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],o=s.length,c=0;c<o;c+=1){var r=s[c];r.d&&(F=A?_(e).diff(m,r.d,!0):m.diff(e,r.d,!0));var i=(n.rounding||Math.round)(Math.abs(F));if($=F>0,i<=r.r||!r.r){i<=1&&c>0&&(r=s[c-1]);var T=C[r.l];N&&(i=N(""+i)),b=typeof T=="string"?T.replace("%d",i):T(i,f,r.l,$);break}}if(f)return b;var M=$?C.future:C.past;return typeof M=="function"?M(b):M.replace("%s",b)},h.to=function(e,f){return x(e,f,this,!0)},h.from=function(e,f){return x(e,f,this)};var w=function(e){return e.$u?_.utc():_()};h.toNow=function(e){return this.to(w(this),e)},h.fromNow=function(e){return this.from(w(this),e)}}})})(X);const gt=X.exports,vt="https://api.covalenthq.com/v1",xt={get:(B,y,n)=>Y.get(`${vt}/${B}/events/topics/${y}/`,n)},wt={class:"relative"},bt={class:"head"},kt=t("h3",{class:"text-2xl text-color"}," Mint Rewards ",-1),yt={class:"text-info text-14 mt-5 px-4"},At=I(" There is a "),$t=I(" chance of getting a full refund when you mint, good luck! "),Ct={class:"mt-5 absolute lg:relative top-26 lg:top-0 w-full bottom-0 h-full lg:h-96 overflow-y-scroll"},Ft={class:"text-left"},Tt={class:"text-blue-600 cursor-pointer"},Bt=["href"],Dt={class:"text-16 text-color"},Nt={class:"custom-title"},Mt={class:"text-16 text-color"},St={key:1,"mt-16":"","text-info":"","text-14":""},Ut=z({__name:"refundList",setup(B){var $,C;const y="0x1F222BA0C54A1BAa502787Fe39A196135A7AF4d9",n=G();S.extend(gt),S.extend(Z);const{chain:a}=tt(),{address:_}=et(),{isConnected:h}=J(),D=it,x=a!=null&&a.value?(C=($=a==null?void 0:a.value)==null?void 0:$.blockExplorers)==null?void 0:C.default.url:"",w=V.from(D[0].chainId).toNumber(),e=K({loading:!0,finished:!1,list:[]});function f(s,o=14){return!s||s.length<15?"":`${s.substr(0,o)}...`}const{data:m}=ot({chainId:n.chainId});q(m,s=>{s&&setTimeout(()=>{A(s)},1e3)}),q(_,()=>{m&&(e.list.length=0,setTimeout(()=>{A(m.value)},1e3))});function A(s){var c;if(e.list.length=0,!h||((c=a==null?void 0:a.value)==null?void 0:c.id)!==w)return;e.finished=!1;const o=window.$game.filters.Refunded(_.value);xt.get(n.chainId,o.topics[0],{key:"ckey_593c43462d3c434d83705f10058","starting-block":R.subtract(s,2e4),"ending-block":s,"sender-address":y,"secondary-topics":o.topics[1],"quote-currency":"USD",format:"JSON"}).then(r=>{e.loading=!1,e.finished=!0,r.error||(e.list=r.data.items)}).catch(()=>{e.loading=!1,e.finished=!0})}function N(s){const o=R.find(s,["name","collateral"]);return o?o.value:""}function F(s){const o=R.find(s,["name","tokenAmount"]);return o?rt(V.from(o.value).toString(),18):""}function b(s){const o=S(s).utc().unix();return S().subtract(S.utc().unix()-o,"second").fromNow()}return(s,o)=>{const c=st,r=at;return u(),g("div",wt,[t("div",bt,[kt,t("p",yt,[At,t("strong",null,U(d(n).refundProbability)+"%",1),$t])]),t("div",Ct,[e.list.length||e.loading?(u(),E(r,{key:0,loading:e.loading,"onUpdate:loading":o[0]||(o[0]=i=>e.loading=i),finished:e.finished},{default:p(()=>[(u(!0),g(W,null,nt(e.list.slice().reverse(),i=>(u(),E(c,{key:i},{title:p(()=>[t("div",Ft,[t("div",Tt,[t("a",{href:`${d(x)}/tx/${i.tx_hash}`,target:"_blank"},U(f(i.tx_hash)),9,Bt)]),t("div",Dt," Public mint x"+U(N(i.decoded.params)),1)])]),value:p(()=>[t("div",Nt,U(b(i.block_signed_at)),1),t("div",Mt,U(F(i.decoded.params)),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"])):(u(),g("div",St," No Data "))])])}}}),Pt=j(Ut,[["__file","/Users/ks/code/wb/merger/src/components/refundList.vue"]]),O="/assets/logo.ddcc7bdd.svg",Et="/assets/logo-dark.7b3545d8.svg",It="/assets/airdrop.3c8a7ecf.png",Lt={hidden:"","lg:block":""},Rt={class:"header","flex-between":""},Ht={text:"center",flex:"",class:"relative"},Vt=["src"],jt={class:"flex text-16 opacity-90 items-center"},qt={"mx-5":""},Ot=t("li",{"mx-5":""},[t("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),zt={"mx-5":""},Gt=["href"],Jt=t("li",{"ml-5":""},[t("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),Kt={key:0,"ml-10":""},Wt={key:1},Xt=t("div",{i:"carbon-logout"},null,-1),Qt=[Xt],Yt=t("li",null,[l('              <button class="icon-btn !outline-none ml-10" @click="userStore.changeDark()"> '),l('                <div i="carbon-sun dark:carbon-moon" /> '),l("              </button> ")],-1),Zt={"lg:hidden":""},te={"pt-5":"","px-5":"","flex-between":""},ee={"pl-1":"",class:"logo flex relative"},oe=["src"],se={class:"flex items-center"},ne={"mt-10":"","text-16":"","opacity-90":"","pl-3":""},ie={"mx-5":"","mb-8":""},re=t("li",{"mx-5":"","mb-8":""},[t("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),ae={"mx-5":"","mb-8":""},le=["href"],ce=t("li",{"mx-5":"","mb-8":""},[t("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),de={key:0,"mx-5":"","mb-8":""},ue={class:"text-center"},_e={class:"text-center py-10"},he=["src"],fe=t("p",{"my-5":"","px-5":"","text-justify":"","text-14":"","text-color":"","opacity-50":"","leading-6":""}," Players who participate in the public test have a chance to get airdrop rewards - Genesis NFT2022, the rules of rewards will be announced after the test. ",-1),me={"text-center":"","mt-10":""},pe={"px-10":""},ge=I(" Address has no available claim "),ve={key:1},xe=I(" Address is claimed "),we=I(" Claim "),be=z({__name:"Header",setup(B){const y="https://testnets.opensea.io/collection/mergame-nft",n=G(),{disconnect:a}=lt(),{isConnected:_}=J(),h=L(!1),D=L(null),x=L(!1),w=L(!1),e=K({show:!1,loading:!1}),f=!0;function m(){a(),h.value=!1,n.logout(),location.reload()}function A(){_.value&&(w.value=!w.value)}function N(){_.value&&(x.value=!x.value)}function F(){const s=dt.map(r=>H(r)),c=new ut.MerkleTree(s,H,{sort:!0}).getHexProof(H(n.address));e.loading=!0,window.$game.claimAirdrop(c).then(r=>{window.$provider.waitForTransaction(r.hash).then(i=>{i&&i.status===1?(e.loading=!1,e.show=!1,n.isAirdrop=!0,P({type:"success",title:"Airdrop Success"})):(e.loading=!1,P({type:"error",title:"Airdrop Error"}))}).catch(()=>{e.loading=!1,P({type:"error",title:"Airdrop Error"})})}).catch(()=>{e.loading=!1,P({type:"error",title:"Airdrop Error"})})}function b(){location.reload()}const $="0x1F222BA0C54A1BAa502787Fe39A196135A7AF4d9";function C(){const s=_t(V.from(0).toString()),o={from:n.address};window.$token.approve($,s,o).then(c=>{P({type:"success",title:"Success"})})}return(s,o)=>{const c=ct,r=Pt,i=ht,T=ft,M=mt;return u(),g("div",null,[t("div",Lt,[t("div",Rt,[t("div",Ht,[t("img",{"cursor-pointer":"",width:"165",src:d(n).isDark?d(Et):d(O),onClick:b},null,8,Vt),d(f)?(u(),g("span",{key:0,class:"rounded-md text-white text-sm bg-upgrade px-1 absolute -right-24",onClick:C},"TESTNET")):l("v-if",!0)]),t("div",null,[t("ul",jt,[l("            <li mx-5> "),l("              Public Sale "),l("            </li> "),t("li",qt,[t("div",{class:"cursor-pointer",onClick:o[0]||(o[0]=v=>e.show=!0)}," Airdrop ")]),Ot,t("li",zt,[t("a",{href:d(y),target:"_blank"}," Opensea ",8,Gt)]),Jt,d(_)?(u(),g("li",Kt,[t("div",{class:"reward px-4 py-2 cursor-pointer",onClick:A}," Rewards ")])):l("v-if",!0),d(_)?(u(),g("li",Wt,[t("button",{class:"icon-btn !outline-none ml-10",onClick:m},Qt)])):l("v-if",!0),Yt])])])]),t("div",Zt,[t("div",te,[t("div",ee,[t("img",{width:"110",src:d(O),onClick:b},null,8,oe)]),t("div",se,[d(_)?(u(),g("div",{key:0,class:"reward px-2 py-1 cursor-pointer",onClick:N}," Rewards ")):l("v-if",!0),t("div",{"text-2xl":"","i-carbon-menu":"","ml-3":"",onClick:o[1]||(o[1]=v=>h.value=!0)})])]),k(c,{show:h.value,"onUpdate:show":o[3]||(o[3]=v=>h.value=v),position:"right",style:{height:"100%",width:"50%"}},{default:p(()=>[t("ul",ne,[l("          <li mx-5 mb-8> "),l("            Public Sale "),l("          </li> "),t("li",ie,[t("div",{class:"cursor-pointer",onClick:o[2]||(o[2]=v=>e.show=!0)}," Airdrop ")]),re,t("li",ae,[t("a",{href:d(y),target:"_blank"}," Opensea ",8,le)]),ce,d(_)?(u(),g("li",de,[t("div",{class:"cursor-pointer text-upgrade",onClick:m}," Logout ")])):l("v-if",!0)])]),_:1},8,["show"])]),l("    PC "),k(i,{ref_key:"dialog",ref:D,show:w.value,"onUpdate:show":o[4]||(o[4]=v=>w.value=v),overlay:!0,"overlay-class":" over-refund","close-on-click-overlay":!0,width:"300",title:"",class:"pt-6 pb-10 px-2 dialog-pc","show-confirm-button":!1},{default:p(()=>[t("div",ue,[k(r)])]),_:1},8,["show"]),l("    mobile "),k(c,{show:x.value,"onUpdate:show":o[5]||(o[5]=v=>x.value=v),position:"right",style:{height:"100%",width:"70%"}},{default:p(()=>[t("div",_e,[k(r)])]),_:1},8,["show"]),l("   AirDrop "),k(i,{show:e.show,"onUpdate:show":o[6]||(o[6]=v=>e.show=v),"close-on-click-overlay":!0,width:"420",title:"",class:"p-10","show-confirm-button":!1},{default:p(()=>[t("img",{"mx-auto":"",width:"90",height:"100",src:d(It)},null,8,he),fe,t("div",me,[k(M,{"is-color":""},{default:p(()=>[t("div",pe,[d(n).isWhite?(u(),g("div",ve,[d(n).isAirdrop?(u(),E(T,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:p(()=>[xe]),_:1})):(u(),E(T,{key:1,block:"",loading:e.loading,color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)",onClick:F},{default:p(()=>[we]),_:1},8,["loading"]))])):(u(),E(T,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:p(()=>[ge]),_:1}))])]),_:1})])]),_:1},8,["show"])])}}});const ke=j(be,[["__file","/Users/ks/code/wb/merger/src/components/Header.vue"]]),ye={},Ae={class:"px-4 text-center md:w-screen-lg mx-auto"};function $e(B,y){const n=ke,a=pt("RouterView");return u(),g(W,null,[k(n),t("main",Ae,[k(a)])],64)}const Fe=j(ye,[["render",$e],["__file","/Users/ks/code/wb/merger/src/layouts/home.vue"]]);export{Fe as default};
