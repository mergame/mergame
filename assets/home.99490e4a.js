import{e as X,s as Q,d as z,f as G,g as B,h as Y,i as Z,j as ee,k as O,B as V,l as J,m as te,w as q,n as L,C as oe,o as _,c as x,b as e,t as M,u,p as E,q as v,F as K,v as se,x as S,y as ne,z as ie,L as re,_ as H,A as ae,D as U,P as le,E as c,a as $,G as ce,H as R,I as de,J as P,K as ue,M as _e,N as he,r as fe}from"./app.2c6da6d5.js";var W={exports:{}};(function(T,C){(function(i,r){T.exports=r()})(X,function(){return function(i,r,h){i=i||{};var m=r.prototype,D={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function b(t,p,g,A){return m.fromToBase(t,p,g,A)}h.en.relativeTime=D,m.fromToBase=function(t,p,g,A,N){for(var F,k,y,n=g.$locale().relativeTime||D,o=i.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],s=o.length,d=0;d<s;d+=1){var a=o[d];a.d&&(F=A?h(t).diff(g,a.d,!0):g.diff(t,a.d,!0));var l=(i.rounding||Math.round)(Math.abs(F));if(y=F>0,l<=a.r||!a.r){l<=1&&d>0&&(a=o[d-1]);var f=n[a.l];N&&(l=N(""+l)),k=typeof f=="string"?f.replace("%d",l):f(l,p,a.l,y);break}}if(p)return k;var I=y?n.future:n.past;return typeof I=="function"?I(k):I.replace("%s",k)},m.to=function(t,p){return b(t,p,this,!0)},m.from=function(t,p){return b(t,p,this)};var w=function(t){return t.$u?h.utc():h()};m.toNow=function(t){return this.to(w(this),t)},m.fromNow=function(t){return this.from(w(this),t)}}})})(W);const me=W.exports,pe="https://api.covalenthq.com/v1",ge={get:(T,C,i)=>Q.get(`${pe}/${T}/events/topics/${C}/`,i)},ve={class:"head"},xe=e("h3",{class:"text-2xl text-color"}," Mint Rewards ",-1),be={class:"text-info text-14 mt-5 px-4"},we=S(" There is a "),ke=S(" chance of getting a full refund when you mint, good luck! "),ye={class:"mt-5 lg:h-96 overflow-y-scroll"},$e={class:"text-left"},Ce={class:"text-blue-600 cursor-pointer"},Ae=["href"],Fe={class:"text-16 text-color"},Te={class:"custom-title"},De={class:"text-16 text-color"},Ne={key:1,"mt-16":"","text-info":"","text-14":""},Be=z({__name:"refundList",setup(T){var y,n;const C="0x1EA0f3abaCAB5b6730C0280082DFbE8D92640C19",i=G();B.extend(me),B.extend(Y);const{chain:r}=Z(),{address:h}=ee(),{isConnected:m}=O(),D=ne,b=r!=null&&r.value?(n=(y=r==null?void 0:r.value)==null?void 0:y.blockExplorers)==null?void 0:n.default.url:"",w=V.from(D[0].chainId).toNumber(),t=J({loading:!0,finished:!1,list:[]});function p(o,s=14){return!o||o.length<15?"":`${o.substr(0,s)}...`}const{data:g}=te({chainId:i.chainId});q(g,o=>{o&&setTimeout(()=>{A(o)},1e3)}),q(h,()=>{g&&(t.list.length=0,setTimeout(()=>{A(g.value)},1e3))});function A(o){var d;if(t.list.length=0,!m||((d=r==null?void 0:r.value)==null?void 0:d.id)!==w)return;t.finished=!1;const s=window.$game.filters.Refunded(h.value);ge.get(i.chainId,s.topics[0],{key:"ckey_593c43462d3c434d83705f10058","starting-block":L.subtract(o,2e4),"ending-block":o,"sender-address":C,"secondary-topics":s.topics[1],"quote-currency":"USD",format:"JSON"}).then(a=>{t.loading=!1,t.finished=!0,a.error||(t.list=a.data.items)}).catch(()=>{t.loading=!1,t.finished=!0})}function N(o){const s=L.find(o,["name","collateral"]);return s?s.value:""}function F(o){const s=L.find(o,["name","tokenAmount"]);return s?ie(V.from(s.value).toString(),18):""}function k(o){const s=B(o).utc().unix();return B().subtract(B.utc().unix()-s,"second").fromNow()}return(o,s)=>{const d=oe,a=re;return _(),x("div",null,[e("div",ve,[xe,e("p",be,[we,e("strong",null,M(u(i).refundProbability)+"%",1),ke])]),e("div",ye,[t.list.length||t.loading?(_(),E(a,{key:0,loading:t.loading,"onUpdate:loading":s[0]||(s[0]=l=>t.loading=l),finished:t.finished},{default:v(()=>[(_(!0),x(K,null,se(t.list.slice().reverse(),l=>(_(),E(d,{key:l},{title:v(()=>[e("div",$e,[e("div",Ce,[e("a",{href:`${u(b)}/tx/${l.tx_hash}`,target:"_blank"},M(p(l.tx_hash)),9,Ae)]),e("div",Fe," Public mint x"+M(N(l.decoded.params)),1)])]),value:v(()=>[e("div",Te,M(k(l.block_signed_at)),1),e("div",De,M(F(l.decoded.params)),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"])):(_(),x("div",Ne," No Data "))])])}}}),Me=H(Be,[["__file","/Users/ks/code/wb/merger/src/components/refundList.vue"]]),j="/assets/logo.ddcc7bdd.svg",Ee="/assets/logo-dark.7b3545d8.svg",Se="/assets/airdrop.3c8a7ecf.png",Ue={hidden:"","lg:block":""},Pe={class:"header","flex-between":""},Ie={text:"center",flex:"",class:"relative"},Le=["src"],Re={key:0,class:"rounded-md text-white text-sm bg-upgrade px-1 absolute -right-24"},He={class:"flex text-16 opacity-90 items-center"},Ve={"mx-5":""},qe=e("li",{"mx-5":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),je={"mx-5":""},ze=["href"],Ge=e("li",{"ml-5":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),Oe={key:0,"ml-10":""},Je={key:1},Ke=e("div",{i:"carbon-logout"},null,-1),We=[Ke],Xe=e("li",null,[c('              <button class="icon-btn !outline-none ml-10" @click="userStore.changeDark()">'),c('                <div i="carbon-sun dark:carbon-moon" />'),c("              </button>")],-1),Qe={"lg:hidden":""},Ye={"pt-5":"","px-5":"","flex-between":""},Ze={"pl-1":"",class:"logo flex relative"},et=["src"],tt={class:"flex items-center"},ot={"mt-10":"","text-16":"","opacity-90":"","pl-3":""},st={"mx-5":"","mb-8":""},nt=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),it={"mx-5":"","mb-8":""},rt=["href"],at=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),lt={key:0,"mx-5":"","mb-8":""},ct={class:"text-center"},dt={class:"text-center py-10"},ut=["src"],_t=e("p",{"my-5":"","px-5":"","text-justify":"","text-14":"","text-color":"","opacity-50":"","leading-6":""}," Players who participate in the public test have a chance to get airdrop rewards - Genesis NFT2022, the rules of rewards will be announced after the test. ",-1),ht={"text-center":"","mt-10":""},ft={"px-10":""},mt=S(" Address has no available claim "),pt={key:1},gt=S(" Address is claimed "),vt=S(" Claim "),xt=z({__name:"Header",setup(T){const C="https://testnets.opensea.io/zh-CN/collection/mergamenft-flwqmkbure",i=G(),{disconnect:r}=ae(),{isConnected:h}=O(),m=U(!1),D=U(null),b=U(!1),w=U(!1),t=J({show:!1,loading:!1}),p=!0;function g(){r(),m.value=!1,i.logout(),location.reload()}function A(){h.value&&(w.value=!w.value)}function N(){h.value&&(b.value=!b.value)}function F(){const y=ce.map(s=>R(s)),o=new de.MerkleTree(y,R,{sort:!0}).getHexProof(R(i.address));t.loading=!0,window.$game.claimAirdrop(o).then(s=>{window.$provider.waitForTransaction(s.hash).then(d=>{d&&d.status===1?(t.loading=!1,t.show=!1,i.isAirdrop=!0,P({type:"success",title:"Airdrop Success"})):(t.loading=!1,P({type:"error",title:"Airdrop Error"}))}).catch(()=>{t.loading=!1,P({type:"error",title:"Airdrop Error"})})}).catch(()=>{t.loading=!1,P({type:"error",title:"Airdrop Error"})})}function k(){location.reload()}return(y,n)=>{const o=le,s=Me,d=ue,a=_e,l=he;return _(),x("div",null,[e("div",Ue,[e("div",Pe,[e("div",Ie,[e("img",{"cursor-pointer":"",width:"165",src:u(i).isDark?u(Ee):u(j),onClick:k},null,8,Le),u(p)?(_(),x("span",Re,"TESTNET")):c("v-if",!0)]),e("div",null,[e("ul",He,[c("            <li mx-5>"),c("              Public Sale"),c("            </li>"),e("li",Ve,[e("div",{class:"cursor-pointer",onClick:n[0]||(n[0]=f=>t.show=!0)}," Airdrop ")]),qe,e("li",je,[e("a",{href:u(C),target:"_blank"}," Opensea ",8,ze)]),Ge,u(h)?(_(),x("li",Oe,[e("div",{class:"reward px-4 py-2 cursor-pointer",onClick:A}," Rewards ")])):c("v-if",!0),u(h)?(_(),x("li",Je,[e("button",{class:"icon-btn !outline-none ml-10",onClick:g},We)])):c("v-if",!0),Xe])])])]),e("div",Qe,[e("div",Ye,[e("div",Ze,[e("img",{width:"110",src:u(j),onClick:k},null,8,et)]),e("div",tt,[u(h)?(_(),x("div",{key:0,class:"reward px-2 py-1 cursor-pointer",onClick:N}," Rewards ")):c("v-if",!0),e("div",{"text-2xl":"","i-carbon-menu":"","ml-3":"",onClick:n[1]||(n[1]=f=>m.value=!0)})])]),$(o,{show:m.value,"onUpdate:show":n[3]||(n[3]=f=>m.value=f),position:"right",style:{height:"100%",width:"50%"}},{default:v(()=>[e("ul",ot,[c("          <li mx-5 mb-8>"),c("            Public Sale"),c("          </li>"),e("li",st,[e("div",{class:"cursor-pointer",onClick:n[2]||(n[2]=f=>t.show=!0)}," Airdrop ")]),nt,e("li",it,[e("a",{href:u(C),target:"_blank"}," Opensea ",8,rt)]),at,u(h)?(_(),x("li",lt,[e("div",{class:"cursor-pointer text-upgrade",onClick:g}," Logout ")])):c("v-if",!0)])]),_:1},8,["show"])]),c("    PC "),$(d,{ref_key:"dialog",ref:D,show:w.value,"onUpdate:show":n[4]||(n[4]=f=>w.value=f),overlay:!0,"overlay-class":" over-refund","close-on-click-overlay":!0,width:"300",title:"",class:"pt-6 pb-10 px-2 dialog-pc","show-confirm-button":!1},{default:v(()=>[e("div",ct,[$(s)])]),_:1},8,["show"]),c("    mobile "),$(o,{show:b.value,"onUpdate:show":n[5]||(n[5]=f=>b.value=f),position:"right",style:{height:"100%",width:"70%"}},{default:v(()=>[e("div",dt,[$(s)])]),_:1},8,["show"]),c("   AirDrop "),$(d,{show:t.show,"onUpdate:show":n[6]||(n[6]=f=>t.show=f),"close-on-click-overlay":!0,width:"420",title:"",class:"p-10","show-confirm-button":!1},{default:v(()=>[e("img",{"mx-auto":"",width:"90",height:"100",src:u(Se)},null,8,ut),_t,e("div",ht,[$(l,{"is-color":""},{default:v(()=>[e("div",ft,[u(i).isWhite?(_(),x("div",pt,[u(i).isAirdrop?(_(),E(a,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[gt]),_:1})):(_(),E(a,{key:1,block:"",loading:t.loading,color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)",onClick:F},{default:v(()=>[vt]),_:1},8,["loading"]))])):(_(),E(a,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[mt]),_:1}))])]),_:1})])]),_:1},8,["show"])])}}});const bt=H(xt,[["__file","/Users/ks/code/wb/merger/src/components/Header.vue"]]),wt={},kt={class:"px-4 text-center md:w-screen-lg mx-auto"};function yt(T,C){const i=bt,r=fe("RouterView");return _(),x(K,null,[$(i),e("main",kt,[$(r)])],64)}const Ct=H(wt,[["render",yt],["__file","/Users/ks/code/wb/merger/src/layouts/home.vue"]]);export{Ct as default};
