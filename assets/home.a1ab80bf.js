import{e as X,s as Q,d as z,f as G,g as N,h as Y,i as Z,j as ee,k as O,B as V,l as J,m as te,w as j,n as I,C as oe,o as l,c as w,b as e,p as B,q as v,F as K,v as se,u as h,t as M,x as ne,y as ie,L as re,_ as R,z as ae,A as S,P as le,D as x,a as A,E as H,G as ce,H as L,I as de,J as E,K as ue,M as _e,N as he,r as fe}from"./app.19f75b4d.js";var W={exports:{}};(function(T,f){(function(d,i){T.exports=i()})(X,function(){return function(d,i,m){d=d||{};var b=i.prototype,k={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function y(t,_,p,C){return b.fromToBase(t,_,p,C)}m.en.relativeTime=k,b.fromToBase=function(t,_,p,C,D){for(var F,$,r,g=p.$locale().relativeTime||k,o=d.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],n=o.length,u=0;u<n;u+=1){var c=o[u];c.d&&(F=C?m(t).diff(p,c.d,!0):p.diff(t,c.d,!0));var s=(d.rounding||Math.round)(Math.abs(F));if(r=F>0,s<=c.r||!c.r){s<=1&&u>0&&(c=o[u-1]);var U=g[c.l];D&&(s=D(""+s)),$=typeof U=="string"?U.replace("%d",s):U(s,_,c.l,r);break}}if(_)return $;var P=r?g.future:g.past;return typeof P=="function"?P($):P.replace("%s",$)},b.to=function(t,_){return y(t,_,this,!0)},b.from=function(t,_){return y(t,_,this)};var a=function(t){return t.$u?m.utc():m()};b.toNow=function(t){return this.to(a(this),t)},b.fromNow=function(t){return this.from(a(this),t)}}})})(W);const me=W.exports,pe="https://api.covalenthq.com/v1",ge={get:(T,f,d)=>Q.get(`${pe}/${T}/events/topics/${f}/`,d)},ve=e("div",{class:"head"},[e("h3",{class:"text-2xl text-color"}," Mint Rewards "),e("p",{class:"text-info text-14 mt-2 px-4"}," There is a 50% chance of getting a full refund when you mint, good luck! ")],-1),xe={class:"mt-5 lg:h-96 overflow-y-scroll"},we={class:"text-left"},be={class:"text-blue-600 cursor-pointer"},ke=["href"],ye={class:"text-16 text-color"},$e={class:"custom-title"},Ae={class:"text-16 text-color"},Ce={key:1,"mt-10":"","text-info":"","text-14":""},Fe=z({__name:"refundList",setup(T){var r,g;const f="0xF9119A66148E0768Ab58c304597A7dd82C5600a7",d=G();N.extend(me),N.extend(Y);const{chain:i}=Z(),{address:m}=ee(),{isConnected:b}=O(),k=ne,y=i!=null&&i.value?(g=(r=i==null?void 0:i.value)==null?void 0:r.blockExplorers)==null?void 0:g.default.url:"",a=V.from(k[0].chainId).toNumber(),t=J({loading:!0,finished:!1,list:[]});function _(o,n=14){return!o||o.length<15?"":`${o.substr(0,n)}...`}const{data:p}=te({chainId:d.chainId});j(p,o=>{o&&setTimeout(()=>{C(o)},1e3)}),j(m,()=>{p&&(t.list.length=0,setTimeout(()=>{C(p.value)},1e3))});function C(o){var u;if(t.list.length=0,!b||((u=i==null?void 0:i.value)==null?void 0:u.id)!==a)return;t.finished=!1;const n=window.$game.filters.Refunded(m.value);ge.get(d.chainId,n.topics[0],{key:"ckey_593c43462d3c434d83705f10058","starting-block":I.subtract(o,2e4),"ending-block":o,"sender-address":f,"secondary-topics":n.topics[1],"quote-currency":"USD",format:"JSON"}).then(c=>{t.loading=!1,t.finished=!0,c.error||(t.list=c.data.items)}).catch(()=>{t.loading=!1,t.finished=!0})}function D(o){const n=I.find(o,["name","collateral"]);return n?n.value:""}function F(o){const n=I.find(o,["name","tokenAmount"]);return n?ie(V.from(n.value).toString(),18):""}function $(o){const n=N(o).utc().unix();return N().subtract(N.utc().unix()-n,"second").fromNow()}return(o,n)=>{const u=oe,c=re;return l(),w("div",null,[ve,e("div",xe,[t.list.length||t.loading?(l(),B(c,{key:0,loading:t.loading,"onUpdate:loading":n[0]||(n[0]=s=>t.loading=s),finished:t.finished},{default:v(()=>[(l(!0),w(K,null,se(t.list.slice().reverse(),s=>(l(),B(u,{key:s},{title:v(()=>[e("div",we,[e("div",be,[e("a",{href:`${h(y)}/tx/${s.tx_hash}`,target:"_blank"},M(_(s.tx_hash)),9,ke)]),e("div",ye," Public mint x"+M(D(s.decoded.params)),1)])]),value:v(()=>[e("div",$e,M($(s.block_signed_at)),1),e("div",Ae,M(F(s.decoded.params)),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"])):(l(),w("div",Ce," No Data "))])])}}}),Te=R(Fe,[["__file","/Users/ks/code/wb/merger/src/components/refundList.vue"]]),q="/assets/logo.ddcc7bdd.svg",De="/assets/logo-dark.7b3545d8.svg",Ne="/assets/airdrop.3c8a7ecf.png",Be={hidden:"","lg:block":""},Me={class:"header","flex-between":""},Se={text:"center",flex:"",class:"relative"},Ee=["src"],Ue={key:0,class:"rounded-md text-white text-sm bg-upgrade px-1 absolute -right-24"},Pe={class:"flex text-16 opacity-90 items-center"},Ie=e("li",{"mx-5":""}," Public Sale ",-1),Le={"mx-5":""},Re=e("li",{"mx-5":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),He=e("li",{"mx-5":""}," Opensea ",-1),Ve=e("li",{"ml-5":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),je={key:0,"ml-10":""},qe={key:1},ze=e("div",{i:"carbon-logout"},null,-1),Ge=[ze],Oe=e("li",null,[x('              <button class="icon-btn !outline-none ml-10" @click="userStore.changeDark()">'),x('                <div i="carbon-sun dark:carbon-moon" />'),x("              </button>")],-1),Je={"lg:hidden":""},Ke={"pt-5":"","px-5":"","flex-between":""},We={"pl-1":"",class:"logo flex relative"},Xe=["src"],Qe={class:"flex items-center"},Ye={"mt-10":"","text-16":"","opacity-90":"","pl-3":""},Ze=e("li",{"mx-5":"","mb-8":""}," Public Sale ",-1),et={"mx-5":"","mb-8":""},tt=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),ot=e("li",{"mx-5":"","mb-8":""}," Opensea ",-1),st=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),nt={key:0,"mx-5":"","mb-8":""},it={class:"text-center"},rt={class:"text-center py-10"},at=["src"],lt=e("p",{"my-5":"","px-5":"","text-justify":"","text-14":"","text-color":"","opacity-50":"","leading-6":""}," Players who participate in the public test have a chance to get airdrop rewards - Genesis NFT2022, the rules of rewards will be announced after the test ",-1),ct={"text-center":"","mt-10":""},dt={"px-10":""},ut=H(" Address has no available claim "),_t={key:1},ht=H(" Address is claimed "),ft=H(" Claim "),mt=z({__name:"Header",setup(T){const f=G(),{disconnect:d}=ae(),{isConnected:i}=O(),m=S(!1),b=S(null),k=S(!1),y=S(!1),a=J({show:!1,loading:!1}),t=!0;function _(){d(),m.value=!1,f.logout(),location.reload()}function p(){i.value&&(y.value=!y.value)}function C(){i.value&&(k.value=!k.value)}function D(){const $=ce.map(o=>L(o)),g=new de.MerkleTree($,L,{sort:!0}).getHexProof(L(f.address));a.loading=!0,window.$game.claimAirdrop(g).then(o=>{window.$provider.waitForTransaction(o.hash).then(n=>{n&&n.status===1?(a.loading=!1,a.show=!1,f.isAirdrop=!0,E({type:"success",title:"Airdrop Success"})):(a.loading=!1,E({type:"error",title:"Airdrop Error"}))}).catch(()=>{a.loading=!1,E({type:"error",title:"Airdrop Error"})})}).catch(()=>{a.loading=!1,E({type:"error",title:"Airdrop Error"})})}function F(){location.reload()}return($,r)=>{const g=le,o=Te,n=ue,u=_e,c=he;return l(),w("div",null,[e("div",Be,[e("div",Me,[e("div",Se,[e("img",{"cursor-pointer":"",width:"165",src:h(f).isDark?h(De):h(q),onClick:F},null,8,Ee),h(t)?(l(),w("span",Ue,"TESTNET")):x("v-if",!0)]),e("div",null,[e("ul",Pe,[Ie,e("li",Le,[e("div",{class:"cursor-pointer",onClick:r[0]||(r[0]=s=>a.show=!0)}," Airdrop ")]),Re,He,Ve,h(i)?(l(),w("li",je,[e("div",{class:"reward px-4 py-2 cursor-pointer",onClick:p}," Rewards ")])):x("v-if",!0),h(i)?(l(),w("li",qe,[e("button",{class:"icon-btn !outline-none ml-10",onClick:_},Ge)])):x("v-if",!0),Oe])])])]),e("div",Je,[e("div",Ke,[e("div",We,[e("img",{width:"110",src:h(q)},null,8,Xe)]),e("div",Qe,[h(i)?(l(),w("div",{key:0,class:"reward px-2 py-1 cursor-pointer",onClick:C}," Rewards ")):x("v-if",!0),e("div",{"text-2xl":"","i-carbon-menu":"","ml-3":"",onClick:r[1]||(r[1]=s=>m.value=!0)})])]),A(g,{show:m.value,"onUpdate:show":r[3]||(r[3]=s=>m.value=s),position:"right",style:{height:"100%",width:"50%"}},{default:v(()=>[e("ul",Ye,[Ze,e("li",et,[e("div",{class:"cursor-pointer",onClick:r[2]||(r[2]=s=>a.show=!0)}," Airdrop ")]),tt,ot,st,h(i)?(l(),w("li",nt,[e("div",{class:"cursor-pointer",onClick:_}," Logout ")])):x("v-if",!0)])]),_:1},8,["show"])]),x("    PC "),A(n,{ref_key:"dialog",ref:b,show:y.value,"onUpdate:show":r[4]||(r[4]=s=>y.value=s),overlay:!0,"overlay-class":" over-refund","close-on-click-overlay":!0,width:"300",title:"",class:"py-10 px-2 dialog-pc","show-confirm-button":!1},{default:v(()=>[e("div",it,[A(o)])]),_:1},8,["show"]),x("    mobile "),A(g,{show:k.value,"onUpdate:show":r[5]||(r[5]=s=>k.value=s),position:"right",style:{height:"100%",width:"70%"}},{default:v(()=>[e("div",rt,[A(o)])]),_:1},8,["show"]),x("   AirDrop "),A(n,{show:a.show,"onUpdate:show":r[6]||(r[6]=s=>a.show=s),"close-on-click-overlay":!0,width:"420",title:"",class:"p-10","show-confirm-button":!1},{default:v(()=>[e("img",{"mx-auto":"",width:"90",height:"100",src:h(Ne)},null,8,at),lt,e("div",ct,[A(c,{"is-color":""},{default:v(()=>[e("div",dt,[h(f).isWhite?(l(),w("div",_t,[h(f).isAirdrop?(l(),B(u,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[ht]),_:1})):(l(),B(u,{key:1,block:"",loading:a.loading,color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)",onClick:D},{default:v(()=>[ft]),_:1},8,["loading"]))])):(l(),B(u,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[ut]),_:1}))])]),_:1})])]),_:1},8,["show"])])}}});const pt=R(mt,[["__file","/Users/ks/code/wb/merger/src/components/Header.vue"]]),gt={},vt={class:"px-4 text-center md:w-screen-lg mx-auto"};function xt(T,f){const d=pt,i=fe("RouterView");return l(),w(K,null,[A(d),e("main",vt,[A(i)])],64)}const bt=R(gt,[["render",xt],["__file","/Users/ks/code/wb/merger/src/layouts/home.vue"]]);export{bt as default};
