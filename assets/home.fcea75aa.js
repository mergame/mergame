import{e as X,s as Q,d as z,f as G,g as B,h as Y,i as Z,j as ee,k as O,B as V,l as J,m as te,w as q,n as I,C as oe,o as u,c as x,b as e,p as M,q as v,F as K,v as se,u as _,t as E,x as ne,y as ie,L as re,_ as R,z as ae,A as S,P as le,D as c,a as C,E as H,G as ce,H as L,I as de,J as U,K as ue,M as _e,N as he,r as fe}from"./app.0e2c9cb1.js";var W={exports:{}};(function(T,$){(function(i,r){T.exports=r()})(X,function(){return function(i,r,h){i=i||{};var m=r.prototype,D={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function w(t,p,g,A){return m.fromToBase(t,p,g,A)}h.en.relativeTime=D,m.fromToBase=function(t,p,g,A,N){for(var F,k,y,n=g.$locale().relativeTime||D,o=i.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],s=o.length,d=0;d<s;d+=1){var a=o[d];a.d&&(F=A?h(t).diff(g,a.d,!0):g.diff(t,a.d,!0));var l=(i.rounding||Math.round)(Math.abs(F));if(y=F>0,l<=a.r||!a.r){l<=1&&d>0&&(a=o[d-1]);var f=n[a.l];N&&(l=N(""+l)),k=typeof f=="string"?f.replace("%d",l):f(l,p,a.l,y);break}}if(p)return k;var P=y?n.future:n.past;return typeof P=="function"?P(k):P.replace("%s",k)},m.to=function(t,p){return w(t,p,this,!0)},m.from=function(t,p){return w(t,p,this)};var b=function(t){return t.$u?h.utc():h()};m.toNow=function(t){return this.to(b(this),t)},m.fromNow=function(t){return this.from(b(this),t)}}})})(W);const me=W.exports,pe="https://api.covalenthq.com/v1",ge={get:(T,$,i)=>Q.get(`${pe}/${T}/events/topics/${$}/`,i)},ve=e("div",{class:"head"},[e("h3",{class:"text-2xl text-color"}," Mint Rewards "),e("p",{class:"text-info text-14 mt-5 px-4"}," There is a 50% chance of getting a full refund when you mint, good luck! ")],-1),xe={class:"mt-5 lg:h-96 overflow-y-scroll"},we={class:"text-left"},be={class:"text-blue-600 cursor-pointer"},ke=["href"],ye={class:"text-16 text-color"},Ce={class:"custom-title"},$e={class:"text-16 text-color"},Ae={key:1,"mt-16":"","text-info":"","text-14":""},Fe=z({__name:"refundList",setup(T){var y,n;const $="0x1EA0f3abaCAB5b6730C0280082DFbE8D92640C19",i=G();B.extend(me),B.extend(Y);const{chain:r}=Z(),{address:h}=ee(),{isConnected:m}=O(),D=ne,w=r!=null&&r.value?(n=(y=r==null?void 0:r.value)==null?void 0:y.blockExplorers)==null?void 0:n.default.url:"",b=V.from(D[0].chainId).toNumber(),t=J({loading:!0,finished:!1,list:[]});function p(o,s=14){return!o||o.length<15?"":`${o.substr(0,s)}...`}const{data:g}=te({chainId:i.chainId});q(g,o=>{o&&setTimeout(()=>{A(o)},1e3)}),q(h,()=>{g&&(t.list.length=0,setTimeout(()=>{A(g.value)},1e3))});function A(o){var d;if(t.list.length=0,!m||((d=r==null?void 0:r.value)==null?void 0:d.id)!==b)return;t.finished=!1;const s=window.$game.filters.Refunded(h.value);ge.get(i.chainId,s.topics[0],{key:"ckey_593c43462d3c434d83705f10058","starting-block":I.subtract(o,2e4),"ending-block":o,"sender-address":$,"secondary-topics":s.topics[1],"quote-currency":"USD",format:"JSON"}).then(a=>{t.loading=!1,t.finished=!0,a.error||(t.list=a.data.items)}).catch(()=>{t.loading=!1,t.finished=!0})}function N(o){const s=I.find(o,["name","collateral"]);return s?s.value:""}function F(o){const s=I.find(o,["name","tokenAmount"]);return s?ie(V.from(s.value).toString(),18):""}function k(o){const s=B(o).utc().unix();return B().subtract(B.utc().unix()-s,"second").fromNow()}return(o,s)=>{const d=oe,a=re;return u(),x("div",null,[ve,e("div",xe,[t.list.length||t.loading?(u(),M(a,{key:0,loading:t.loading,"onUpdate:loading":s[0]||(s[0]=l=>t.loading=l),finished:t.finished},{default:v(()=>[(u(!0),x(K,null,se(t.list.slice().reverse(),l=>(u(),M(d,{key:l},{title:v(()=>[e("div",we,[e("div",be,[e("a",{href:`${_(w)}/tx/${l.tx_hash}`,target:"_blank"},E(p(l.tx_hash)),9,ke)]),e("div",ye," Public mint x"+E(N(l.decoded.params)),1)])]),value:v(()=>[e("div",Ce,E(k(l.block_signed_at)),1),e("div",$e,E(F(l.decoded.params)),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"])):(u(),x("div",Ae," No Data "))])])}}}),Te=R(Fe,[["__file","/Users/ks/code/wb/merger/src/components/refundList.vue"]]),j="/assets/logo.ddcc7bdd.svg",De="/assets/logo-dark.7b3545d8.svg",Ne="/assets/airdrop.3c8a7ecf.png",Be={hidden:"","lg:block":""},Me={class:"header","flex-between":""},Ee={text:"center",flex:"",class:"relative"},Se=["src"],Ue={key:0,class:"rounded-md text-white text-sm bg-upgrade px-1 absolute -right-24"},Pe={class:"flex text-16 opacity-90 items-center"},Ie={"mx-5":""},Le=e("li",{"mx-5":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),Re={"mx-5":""},He=["href"],Ve=e("li",{"ml-5":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),qe={key:0,"ml-10":""},je={key:1},ze=e("div",{i:"carbon-logout"},null,-1),Ge=[ze],Oe=e("li",null,[c('              <button class="icon-btn !outline-none ml-10" @click="userStore.changeDark()">'),c('                <div i="carbon-sun dark:carbon-moon" />'),c("              </button>")],-1),Je={"lg:hidden":""},Ke={"pt-5":"","px-5":"","flex-between":""},We={"pl-1":"",class:"logo flex relative"},Xe=["src"],Qe={class:"flex items-center"},Ye={"mt-10":"","text-16":"","opacity-90":"","pl-3":""},Ze={"mx-5":"","mb-8":""},et=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),tt={"mx-5":"","mb-8":""},ot=["href"],st=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),nt={key:0,"mx-5":"","mb-8":""},it={class:"text-center"},rt={class:"text-center py-10"},at=["src"],lt=e("p",{"my-5":"","px-5":"","text-justify":"","text-14":"","text-color":"","opacity-50":"","leading-6":""}," Players who participate in the public test have a chance to get airdrop rewards - Genesis NFT2022, the rules of rewards will be announced after the test ",-1),ct={"text-center":"","mt-10":""},dt={"px-10":""},ut=H(" Address has no available claim "),_t={key:1},ht=H(" Address is claimed "),ft=H(" Claim "),mt=z({__name:"Header",setup(T){const $="https://testnets.opensea.io/zh-CN/collection/mergamenft-flwqmkbure",i=G(),{disconnect:r}=ae(),{isConnected:h}=O(),m=S(!1),D=S(null),w=S(!1),b=S(!1),t=J({show:!1,loading:!1}),p=!0;function g(){r(),m.value=!1,i.logout(),location.reload()}function A(){h.value&&(b.value=!b.value)}function N(){h.value&&(w.value=!w.value)}function F(){const y=ce.map(s=>L(s)),o=new de.MerkleTree(y,L,{sort:!0}).getHexProof(L(i.address));t.loading=!0,window.$game.claimAirdrop(o).then(s=>{window.$provider.waitForTransaction(s.hash).then(d=>{d&&d.status===1?(t.loading=!1,t.show=!1,i.isAirdrop=!0,U({type:"success",title:"Airdrop Success"})):(t.loading=!1,U({type:"error",title:"Airdrop Error"}))}).catch(()=>{t.loading=!1,U({type:"error",title:"Airdrop Error"})})}).catch(()=>{t.loading=!1,U({type:"error",title:"Airdrop Error"})})}function k(){location.reload()}return(y,n)=>{const o=le,s=Te,d=ue,a=_e,l=he;return u(),x("div",null,[e("div",Be,[e("div",Me,[e("div",Ee,[e("img",{"cursor-pointer":"",width:"165",src:_(i).isDark?_(De):_(j),onClick:k},null,8,Se),_(p)?(u(),x("span",Ue,"TESTNET")):c("v-if",!0)]),e("div",null,[e("ul",Pe,[c("            <li mx-5>"),c("              Public Sale"),c("            </li>"),e("li",Ie,[e("div",{class:"cursor-pointer",onClick:n[0]||(n[0]=f=>t.show=!0)}," Airdrop ")]),Le,e("li",Re,[e("a",{href:_($),target:"_blank"}," Opensea ",8,He)]),Ve,_(h)?(u(),x("li",qe,[e("div",{class:"reward px-4 py-2 cursor-pointer",onClick:A}," Rewards ")])):c("v-if",!0),_(h)?(u(),x("li",je,[e("button",{class:"icon-btn !outline-none ml-10",onClick:g},Ge)])):c("v-if",!0),Oe])])])]),e("div",Je,[e("div",Ke,[e("div",We,[e("img",{width:"110",src:_(j),onClick:k},null,8,Xe)]),e("div",Qe,[_(h)?(u(),x("div",{key:0,class:"reward px-2 py-1 cursor-pointer",onClick:N}," Rewards ")):c("v-if",!0),e("div",{"text-2xl":"","i-carbon-menu":"","ml-3":"",onClick:n[1]||(n[1]=f=>m.value=!0)})])]),C(o,{show:m.value,"onUpdate:show":n[3]||(n[3]=f=>m.value=f),position:"right",style:{height:"100%",width:"50%"}},{default:v(()=>[e("ul",Ye,[c("          <li mx-5 mb-8>"),c("            Public Sale"),c("          </li>"),e("li",Ze,[e("div",{class:"cursor-pointer",onClick:n[2]||(n[2]=f=>t.show=!0)}," Airdrop ")]),et,e("li",tt,[e("a",{href:_($),target:"_blank"}," Opensea ",8,ot)]),st,_(h)?(u(),x("li",nt,[e("div",{class:"cursor-pointer text-upgrade",onClick:g}," Logout ")])):c("v-if",!0)])]),_:1},8,["show"])]),c("    PC "),C(d,{ref_key:"dialog",ref:D,show:b.value,"onUpdate:show":n[4]||(n[4]=f=>b.value=f),overlay:!0,"overlay-class":" over-refund","close-on-click-overlay":!0,width:"300",title:"",class:"pt-6 pb-10 px-2 dialog-pc","show-confirm-button":!1},{default:v(()=>[e("div",it,[C(s)])]),_:1},8,["show"]),c("    mobile "),C(o,{show:w.value,"onUpdate:show":n[5]||(n[5]=f=>w.value=f),position:"right",style:{height:"100%",width:"70%"}},{default:v(()=>[e("div",rt,[C(s)])]),_:1},8,["show"]),c("   AirDrop "),C(d,{show:t.show,"onUpdate:show":n[6]||(n[6]=f=>t.show=f),"close-on-click-overlay":!0,width:"420",title:"",class:"p-10","show-confirm-button":!1},{default:v(()=>[e("img",{"mx-auto":"",width:"90",height:"100",src:_(Ne)},null,8,at),lt,e("div",ct,[C(l,{"is-color":""},{default:v(()=>[e("div",dt,[_(i).isWhite?(u(),x("div",_t,[_(i).isAirdrop?(u(),M(a,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[ht]),_:1})):(u(),M(a,{key:1,block:"",loading:t.loading,color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)",onClick:F},{default:v(()=>[ft]),_:1},8,["loading"]))])):(u(),M(a,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:v(()=>[ut]),_:1}))])]),_:1})])]),_:1},8,["show"])])}}});const pt=R(mt,[["__file","/Users/ks/code/wb/merger/src/components/Header.vue"]]),gt={},vt={class:"px-4 text-center md:w-screen-lg mx-auto"};function xt(T,$){const i=pt,r=fe("RouterView");return u(),x(K,null,[C(i),e("main",vt,[C(r)])],64)}const bt=R(gt,[["render",xt],["__file","/Users/ks/code/wb/merger/src/layouts/home.vue"]]);export{bt as default};
