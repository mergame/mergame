import{e as Q,s as Y,d as z,f as G,g as D,h as Z,i as ee,j as te,k as O,B as j,l as J,m as oe,w as I,n as L,C as se,o as g,c as C,b as e,p as N,q as p,F as K,v as ne,u as w,t as B,x as ie,y as re,L as ae,_ as H,z as le,A as M,r as W,P as ce,a as b,D as E,E as V,G as de,H as R,I as ue,J as S,K as _e,M as he,N as fe}from"./app.b52efdd2.js";var X={exports:{}};(function(T,u){(function(c,r){T.exports=r()})(Q,function(){return function(c,r,f){c=c||{};var v=r.prototype,k={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function y(t,_,m,$){return v.fromToBase(t,_,m,$)}f.en.relativeTime=k,v.fromToBase=function(t,_,m,$,F){for(var A,n,x,h=m.$locale().relativeTime||k,o=c.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],i=o.length,d=0;d<i;d+=1){var l=o[d];l.d&&(A=$?f(t).diff(m,l.d,!0):m.diff(t,l.d,!0));var s=(c.rounding||Math.round)(Math.abs(A));if(x=A>0,s<=l.r||!l.r){s<=1&&d>0&&(l=o[d-1]);var U=h[l.l];F&&(s=F(""+s)),n=typeof U=="string"?U.replace("%d",s):U(s,_,l.l,x);break}}if(_)return n;var P=x?h.future:h.past;return typeof P=="function"?P(n):P.replace("%s",n)},v.to=function(t,_){return y(t,_,this,!0)},v.from=function(t,_){return y(t,_,this)};var a=function(t){return t.$u?f.utc():f()};v.toNow=function(t){return this.to(a(this),t)},v.fromNow=function(t){return this.from(a(this),t)}}})})(X);const me=X.exports,pe="https://api.covalenthq.com/v1",ge={get:(T,u,c)=>Y.get(`${pe}/${T}/events/topics/${u}/`,c)},ve=e("div",{class:"head"},[e("h3",{class:"text-2xl text-color"}," Mint Rewards "),e("p",{class:"text-info text-14 mt-2 px-4"}," There is a 50% chance of getting a full refund when you mint, good luck! ")],-1),xe={class:"mt-5 lg:h-96 overflow-y-scroll"},we={class:"text-left"},be={class:"text-blue-600 cursor-pointer"},ke=["href"],ye={class:"text-16 text-color"},$e={class:"custom-title"},Ae={class:"text-16 text-color"},Ce={key:1},Te=z({__name:"refundList",setup(T){var x,h;const u="0xF9119A66148E0768Ab58c304597A7dd82C5600a7",c=G();D.extend(me),D.extend(Z);const{chain:r}=ee(),{address:f}=te(),{isConnected:v}=O(),k=ie,y=r!=null&&r.value?(h=(x=r==null?void 0:r.value)==null?void 0:x.blockExplorers)==null?void 0:h.default.url:"",a=j.from(k[0].chainId).toNumber(),t=J({loading:!0,finished:!1,list:[]});function _(o,i=14){return!o||o.length<15?"":`${o.substr(0,i)}...`}const{data:m}=oe({chainId:c.chainId});I(m,o=>{o&&setTimeout(()=>{$(o)},1e3)}),I(f,()=>{m&&(t.list.length=0,setTimeout(()=>{$(m.value)},1e3))}),I(r,o=>{o&&(o==null?void 0:o.id)===a&&setTimeout(()=>{$(m.value)},1e3)});function $(o){var d;if(t.list.length=0,!v||((d=r==null?void 0:r.value)==null?void 0:d.id)!==a)return;t.finished=!1;const i=window.$game.filters.Refunded(f.value);ge.get(c.chainId,i.topics[0],{key:"ckey_593c43462d3c434d83705f10058","starting-block":L.subtract(o,2e4),"ending-block":o,"sender-address":u,"secondary-topics":i.topics[1],"quote-currency":"USD",format:"JSON"}).then(l=>{t.loading=!1,t.finished=!0,l.error||(t.list=l.data.items),t.list.push(...l.data.items)}).catch(()=>{t.loading=!1,t.finished=!0})}function F(o){const i=L.find(o,["name","collateral"]);return i?i.value:""}function A(o){const i=L.find(o,["name","tokenAmount"]);return i?re(j.from(i.value).toString(),18):""}function n(o){const i=D(o).utc().unix();return D().subtract(D.utc().unix()-i,"second").fromNow()}return(o,i)=>{const d=se,l=ae;return g(),C("div",null,[ve,e("div",xe,[t.list.length||t.loading?(g(),N(l,{key:0,loading:t.loading,"onUpdate:loading":i[0]||(i[0]=s=>t.loading=s),finished:t.finished},{default:p(()=>[(g(!0),C(K,null,ne(t.list.slice().reverse(),s=>(g(),N(d,{key:s},{title:p(()=>[e("div",we,[e("div",be,[e("a",{href:`${w(y)}/tx/${s.tx_hash}`,target:"_blank"},B(_(s.tx_hash)),9,ke)]),e("div",ye," Public mint x"+B(F(s.decoded.params)),1)])]),value:p(()=>[e("div",$e,B(n(s.block_signed_at)),1),e("div",Ae,B(A(s.decoded.params)),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"])):(g(),C("div",Ce," No Data "))])])}}}),Fe=H(Te,[["__file","/Users/ks/code/wb/merger/src/components/refundList.vue"]]),q="/assets/logo.ddcc7bdd.svg",De="/assets/logo-dark.7b3545d8.svg",Ne="/assets/airdrop.3c8a7ecf.png",Be={hidden:"","lg:block":""},Me={class:"header","flex-between":""},Ee={text:"center",flex:"",class:"relative"},Se=["src"],Ue={key:0,class:"rounded-md text-white text-sm bg-upgrade px-1 absolute -right-24"},Pe={class:"flex text-16 opacity-90 items-center"},Ie=e("li",{"mx-5":""}," Public Sale ",-1),Le={"mx-5":""},Re=e("li",{"mx-5":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),He=e("li",{"mx-5":""}," Opensea ",-1),Ve=e("li",{"ml-5":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),je=e("div",{i:"carbon-logout"},null,-1),qe=[je],ze=e("div",{i:"carbon-sun dark:carbon-moon"},null,-1),Ge=[ze],Oe={"lg:hidden":""},Je={"pt-5":"","px-5":"","flex-between":""},Ke={"pl-1":"",class:"logo flex relative"},We=["src"],Xe={class:"flex items-center"},Qe={"mt-10":"","text-16":"","opacity-90":"","pl-3":""},Ye=e("li",{"mx-5":"","mb-8":""}," Public Sale ",-1),Ze={"mx-5":"","mb-8":""},et=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),tt=e("li",{"mx-5":"","mb-8":""}," Opensea ",-1),ot=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),st={class:"text-center"},nt={class:"text-center py-10"},it=["src"],rt=e("p",{"my-5":"","px-5":"","text-justify":"","text-14":"","text-color":"","opacity-50":"","leading-6":""}," Players who participate in the public test have a chance to get airdrop rewards - Genesis NFT2022, the rules of rewards will be announced after the test ",-1),at={"text-center":"","mt-10":""},lt={"px-10":""},ct=V(" Address has no available claim "),dt={key:1},ut=V(" Address is claimed "),_t=V(" Claim "),ht=z({__name:"Header",setup(T){const u=G(),{disconnect:c}=le(),{isConnected:r}=O(),f=M(!1),v=M(null),k=M(!1),y=M(!1),a=J({show:!1,loading:!1}),t=!0;function _(){c(),f.value=!1,u.logout()}function m(){r.value&&(y.value=!y.value)}function $(){r.value&&(k.value=!k.value)}function F(){const A=de.map(h=>R(h)),x=new ue.MerkleTree(A,R,{sort:!0}).getHexProof(R(u.address));a.loading=!0,window.$game.claimAirdrop(x).then(h=>{window.$provider.waitForTransaction(h.hash).then(o=>{o&&o.status===1?(a.loading=!1,a.show=!1,u.isAirdrop=!0,S({type:"success",title:"Airdrop Success"})):(a.loading=!1,S({type:"error",title:"Airdrop Error"}))}).catch(()=>{a.loading=!1,S({type:"error",title:"Airdrop Error"})})}).catch(()=>{a.loading=!1,S({type:"error",title:"Airdrop Error"})})}return(A,n)=>{const x=W("RouterLink"),h=ce,o=Fe,i=_e,d=he,l=fe;return g(),C("div",null,[e("div",Be,[e("div",Me,[e("div",Ee,[b(x,{to:"/"},{default:p(()=>[e("img",{width:"165",src:w(u).isDark?w(De):w(q)},null,8,Se)]),_:1}),w(t)?(g(),C("span",Ue,"TESTNET")):E("v-if",!0)]),e("div",null,[e("ul",Pe,[Ie,e("li",Le,[e("div",{class:"cursor-pointer",onClick:n[0]||(n[0]=s=>a.show=!0)}," Airdrop ")]),Re,He,Ve,e("li",{"ml-10":""},[e("div",{class:"reward px-4 py-2 cursor-pointer",onClick:m}," Rewards ")]),e("li",null,[e("button",{class:"icon-btn !outline-none ml-10",onClick:_},qe)]),e("li",null,[e("button",{class:"icon-btn !outline-none ml-10",onClick:n[1]||(n[1]=s=>w(u).changeDark())},Ge)])])])])]),e("div",Oe,[e("div",Je,[e("div",Ke,[e("img",{width:"110",src:w(q)},null,8,We)]),e("div",Xe,[e("div",{class:"reward px-2 py-1 cursor-pointer",onClick:$}," Rewards "),e("div",{"text-2xl":"","i-carbon-menu":"","ml-3":"",onClick:n[2]||(n[2]=s=>f.value=!0)})])]),b(h,{show:f.value,"onUpdate:show":n[4]||(n[4]=s=>f.value=s),position:"right",style:{height:"100%",width:"50%"}},{default:p(()=>[e("ul",Qe,[Ye,e("li",Ze,[e("div",{class:"cursor-pointer",onClick:n[3]||(n[3]=s=>a.show=!0)}," Airdrop ")]),et,tt,ot,e("li",{"mx-5":"","mb-8":""},[e("div",{class:"cursor-pointer",onClick:_}," Logout ")])])]),_:1},8,["show"])]),E("    PC "),b(i,{ref_key:"dialog",ref:v,show:y.value,"onUpdate:show":n[5]||(n[5]=s=>y.value=s),overlay:!0,"overlay-class":" over-refund","close-on-click-overlay":!0,width:"300",title:"",class:"py-10 px-2 dialog-pc","show-confirm-button":!1},{default:p(()=>[e("div",st,[b(o)])]),_:1},8,["show"]),E("    mobile "),b(h,{show:k.value,"onUpdate:show":n[6]||(n[6]=s=>k.value=s),position:"right",style:{height:"100%",width:"70%"}},{default:p(()=>[e("div",nt,[b(o)])]),_:1},8,["show"]),E("   AirDrop "),b(i,{show:a.show,"onUpdate:show":n[7]||(n[7]=s=>a.show=s),"close-on-click-overlay":!0,width:"420",title:"",class:"p-10","show-confirm-button":!1},{default:p(()=>[e("img",{"mx-auto":"",width:"90",height:"100",src:w(Ne)},null,8,it),rt,e("div",at,[b(l,{"is-color":""},{default:p(()=>[e("div",lt,[w(u).isWhite?(g(),C("div",dt,[w(u).isAirdrop?(g(),N(d,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:p(()=>[ut]),_:1})):(g(),N(d,{key:1,block:"",loading:a.loading,color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)",onClick:F},{default:p(()=>[_t]),_:1},8,["loading"]))])):(g(),N(d,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:p(()=>[ct]),_:1}))])]),_:1})])]),_:1},8,["show"])])}}});const ft=H(ht,[["__file","/Users/ks/code/wb/merger/src/components/Header.vue"]]),mt={},pt={class:"px-4 text-center text-gray-700 dark:text-gray-200 md:w-screen-lg mx-auto"};function gt(T,u){const c=ft,r=W("RouterView");return g(),C(K,null,[b(c),e("main",pt,[b(r)])],64)}const xt=H(mt,[["render",gt],["__file","/Users/ks/code/wb/merger/src/layouts/home.vue"]]);export{xt as default};
