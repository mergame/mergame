import{e as Q,s as Y,d as z,f as G,g as N,h as Z,i as ee,j as te,k as O,B as V,l as J,m as oe,w as j,n as I,C as se,o as u,c as $,b as e,p as B,q as g,F as K,v as ne,u as p,t as M,x as ie,y as re,L as ae,_ as R,z as le,A as E,r as W,P as ce,a as b,D,E as H,G as de,H as L,I as ue,J as S,K as _e,M as he,N as fe}from"./app.f8127499.js";var X={exports:{}};(function(F,_){(function(c,i){F.exports=i()})(Q,function(){return function(c,i,m){c=c||{};var x=i.prototype,k={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function y(t,h,v,A){return x.fromToBase(t,h,v,A)}m.en.relativeTime=k,x.fromToBase=function(t,h,v,A,T){for(var C,n,w,f=v.$locale().relativeTime||k,s=c.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],r=s.length,d=0;d<r;d+=1){var l=s[d];l.d&&(C=A?m(t).diff(v,l.d,!0):v.diff(t,l.d,!0));var o=(c.rounding||Math.round)(Math.abs(C));if(w=C>0,o<=l.r||!l.r){o<=1&&d>0&&(l=s[d-1]);var U=f[l.l];T&&(o=T(""+o)),n=typeof U=="string"?U.replace("%d",o):U(o,h,l.l,w);break}}if(h)return n;var P=w?f.future:f.past;return typeof P=="function"?P(n):P.replace("%s",n)},x.to=function(t,h){return y(t,h,this,!0)},x.from=function(t,h){return y(t,h,this)};var a=function(t){return t.$u?m.utc():m()};x.toNow=function(t){return this.to(a(this),t)},x.fromNow=function(t){return this.from(a(this),t)}}})})(X);const me=X.exports,pe="https://api.covalenthq.com/v1",ge={get:(F,_,c)=>Y.get(`${pe}/${F}/events/topics/${_}/`,c)},ve=e("div",{class:"head"},[e("h3",{class:"text-2xl text-color"}," Mint Rewards "),e("p",{class:"text-info text-14 mt-2 px-4"}," There is a 50% chance of getting a full refund when you mint, good luck! ")],-1),xe={class:"mt-5 lg:h-96 overflow-y-scroll"},we={class:"text-left"},be={class:"text-blue-600 cursor-pointer"},ke=["href"],ye={class:"text-16 text-color"},$e={class:"custom-title"},Ae={class:"text-16 text-color"},Ce={key:1},Fe=z({__name:"refundList",setup(F){var w,f;const _="0xF9119A66148E0768Ab58c304597A7dd82C5600a7",c=G();N.extend(me),N.extend(Z);const{chain:i}=ee(),{address:m}=te(),{isConnected:x}=O(),k=ie,y=i!=null&&i.value?(f=(w=i==null?void 0:i.value)==null?void 0:w.blockExplorers)==null?void 0:f.default.url:"",a=V.from(k[0].chainId).toNumber(),t=J({loading:!0,finished:!1,list:[]});function h(s,r=14){return!s||s.length<15?"":`${s.substr(0,r)}...`}const{data:v}=oe({chainId:c.chainId});j(v,s=>{s&&setTimeout(()=>{A(s)},1e3)}),j(m,()=>{v&&(t.list.length=0,setTimeout(()=>{A(v.value)},1e3))});function A(s){var d;if(t.list.length=0,!x||((d=i==null?void 0:i.value)==null?void 0:d.id)!==a)return;t.finished=!1;const r=window.$game.filters.Refunded(m.value);ge.get(c.chainId,r.topics[0],{key:"ckey_593c43462d3c434d83705f10058","starting-block":I.subtract(s,2e4),"ending-block":s,"sender-address":_,"secondary-topics":r.topics[1],"quote-currency":"USD",format:"JSON"}).then(l=>{t.loading=!1,t.finished=!0,l.error||(t.list=l.data.items)}).catch(()=>{t.loading=!1,t.finished=!0})}function T(s){const r=I.find(s,["name","collateral"]);return r?r.value:""}function C(s){const r=I.find(s,["name","tokenAmount"]);return r?re(V.from(r.value).toString(),18):""}function n(s){const r=N(s).utc().unix();return N().subtract(N.utc().unix()-r,"second").fromNow()}return(s,r)=>{const d=se,l=ae;return u(),$("div",null,[ve,e("div",xe,[t.list.length||t.loading?(u(),B(l,{key:0,loading:t.loading,"onUpdate:loading":r[0]||(r[0]=o=>t.loading=o),finished:t.finished},{default:g(()=>[(u(!0),$(K,null,ne(t.list.slice().reverse(),o=>(u(),B(d,{key:o},{title:g(()=>[e("div",we,[e("div",be,[e("a",{href:`${p(y)}/tx/${o.tx_hash}`,target:"_blank"},M(h(o.tx_hash)),9,ke)]),e("div",ye," Public mint x"+M(T(o.decoded.params)),1)])]),value:g(()=>[e("div",$e,M(n(o.block_signed_at)),1),e("div",Ae,M(C(o.decoded.params)),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"])):(u(),$("div",Ce," No Data "))])])}}}),Te=R(Fe,[["__file","/Users/ks/code/wb/merger/src/components/refundList.vue"]]),q="/assets/logo.ddcc7bdd.svg",De="/assets/logo-dark.7b3545d8.svg",Ne="/assets/airdrop.3c8a7ecf.png",Be={hidden:"","lg:block":""},Me={class:"header","flex-between":""},Ee={text:"center",flex:"",class:"relative"},Se=["src"],Ue={key:0,class:"rounded-md text-white text-sm bg-upgrade px-1 absolute -right-24"},Pe={class:"flex text-16 opacity-90 items-center"},Ie=e("li",{"mx-5":""}," Public Sale ",-1),Le={"mx-5":""},Re=e("li",{"mx-5":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),He=e("li",{"mx-5":""}," Opensea ",-1),Ve=e("li",{"ml-5":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),je={key:0},qe=e("div",{i:"carbon-logout"},null,-1),ze=[qe],Ge=e("div",{i:"carbon-sun dark:carbon-moon"},null,-1),Oe=[Ge],Je={"lg:hidden":""},Ke={"pt-5":"","px-5":"","flex-between":""},We={"pl-1":"",class:"logo flex relative"},Xe=["src"],Qe={class:"flex items-center"},Ye={"mt-10":"","text-16":"","opacity-90":"","pl-3":""},Ze=e("li",{"mx-5":"","mb-8":""}," Public Sale ",-1),et={"mx-5":"","mb-8":""},tt=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://docs.mergame.xyz",target:"_blank"}," Docs ")],-1),ot=e("li",{"mx-5":"","mb-8":""}," Opensea ",-1),st=e("li",{"mx-5":"","mb-8":""},[e("a",{href:"https://twitter.com/playmergame",target:"_blank"},"Twitter")],-1),nt={key:0,"mx-5":"","mb-8":""},it={class:"text-center"},rt={class:"text-center py-10"},at=["src"],lt=e("p",{"my-5":"","px-5":"","text-justify":"","text-14":"","text-color":"","opacity-50":"","leading-6":""}," Players who participate in the public test have a chance to get airdrop rewards - Genesis NFT2022, the rules of rewards will be announced after the test ",-1),ct={"text-center":"","mt-10":""},dt={"px-10":""},ut=H(" Address has no available claim "),_t={key:1},ht=H(" Address is claimed "),ft=H(" Claim "),mt=z({__name:"Header",setup(F){const _=G(),{disconnect:c}=le(),{isConnected:i}=O(),m=E(!1),x=E(null),k=E(!1),y=E(!1),a=J({show:!1,loading:!1}),t=!0;function h(){c(),m.value=!1,_.logout()}function v(){i.value&&(y.value=!y.value)}function A(){i.value&&(k.value=!k.value)}function T(){const C=de.map(f=>L(f)),w=new ue.MerkleTree(C,L,{sort:!0}).getHexProof(L(_.address));a.loading=!0,window.$game.claimAirdrop(w).then(f=>{window.$provider.waitForTransaction(f.hash).then(s=>{s&&s.status===1?(a.loading=!1,a.show=!1,_.isAirdrop=!0,S({type:"success",title:"Airdrop Success"})):(a.loading=!1,S({type:"error",title:"Airdrop Error"}))}).catch(()=>{a.loading=!1,S({type:"error",title:"Airdrop Error"})})}).catch(()=>{a.loading=!1,S({type:"error",title:"Airdrop Error"})})}return(C,n)=>{const w=W("RouterLink"),f=ce,s=Te,r=_e,d=he,l=fe;return u(),$("div",null,[e("div",Be,[e("div",Me,[e("div",Ee,[b(w,{to:"/"},{default:g(()=>[e("img",{width:"165",src:p(_).isDark?p(De):p(q)},null,8,Se)]),_:1}),p(t)?(u(),$("span",Ue,"TESTNET")):D("v-if",!0)]),e("div",null,[e("ul",Pe,[Ie,e("li",Le,[e("div",{class:"cursor-pointer",onClick:n[0]||(n[0]=o=>a.show=!0)}," Airdrop ")]),Re,He,Ve,e("li",{"ml-10":""},[e("div",{class:"reward px-4 py-2 cursor-pointer",onClick:v}," Rewards ")]),p(i)?(u(),$("li",je,[e("button",{class:"icon-btn !outline-none ml-10",onClick:h},ze)])):D("v-if",!0),e("li",null,[e("button",{class:"icon-btn !outline-none ml-10",onClick:n[1]||(n[1]=o=>p(_).changeDark())},Oe)])])])])]),e("div",Je,[e("div",Ke,[e("div",We,[e("img",{width:"110",src:p(q)},null,8,Xe)]),e("div",Qe,[e("div",{class:"reward px-2 py-1 cursor-pointer",onClick:A}," Rewards "),e("div",{"text-2xl":"","i-carbon-menu":"","ml-3":"",onClick:n[2]||(n[2]=o=>m.value=!0)})])]),b(f,{show:m.value,"onUpdate:show":n[4]||(n[4]=o=>m.value=o),position:"right",style:{height:"100%",width:"50%"}},{default:g(()=>[e("ul",Ye,[Ze,e("li",et,[e("div",{class:"cursor-pointer",onClick:n[3]||(n[3]=o=>a.show=!0)}," Airdrop ")]),tt,ot,st,p(i)?(u(),$("li",nt,[e("div",{class:"cursor-pointer",onClick:h}," Logout ")])):D("v-if",!0)])]),_:1},8,["show"])]),D("    PC "),b(r,{ref_key:"dialog",ref:x,show:y.value,"onUpdate:show":n[5]||(n[5]=o=>y.value=o),overlay:!0,"overlay-class":" over-refund","close-on-click-overlay":!0,width:"300",title:"",class:"py-10 px-2 dialog-pc","show-confirm-button":!1},{default:g(()=>[e("div",it,[b(s)])]),_:1},8,["show"]),D("    mobile "),b(f,{show:k.value,"onUpdate:show":n[6]||(n[6]=o=>k.value=o),position:"right",style:{height:"100%",width:"70%"}},{default:g(()=>[e("div",rt,[b(s)])]),_:1},8,["show"]),D("   AirDrop "),b(r,{show:a.show,"onUpdate:show":n[7]||(n[7]=o=>a.show=o),"close-on-click-overlay":!0,width:"420",title:"",class:"p-10","show-confirm-button":!1},{default:g(()=>[e("img",{"mx-auto":"",width:"90",height:"100",src:p(Ne)},null,8,at),lt,e("div",ct,[b(l,{"is-color":""},{default:g(()=>[e("div",dt,[p(_).isWhite?(u(),$("div",_t,[p(_).isAirdrop?(u(),B(d,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:g(()=>[ht]),_:1})):(u(),B(d,{key:1,block:"",loading:a.loading,color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)",onClick:T},{default:g(()=>[ft]),_:1},8,["loading"]))])):(u(),B(d,{key:0,block:"",disabled:"",color:"linear-gradient(270deg, #FF284D 0%, #FF6F4B 100%)"},{default:g(()=>[ut]),_:1}))])]),_:1})])]),_:1},8,["show"])])}}});const pt=R(mt,[["__file","/Users/ks/code/wb/merger/src/components/Header.vue"]]),gt={},vt={class:"px-4 text-center text-gray-700 dark:text-gray-200 md:w-screen-lg mx-auto"};function xt(F,_){const c=pt,i=W("RouterView");return u(),$(K,null,[b(c),e("main",vt,[b(i)])],64)}const bt=R(gt,[["render",xt],["__file","/Users/ks/code/wb/merger/src/layouts/home.vue"]]);export{bt as default};
